!!!
%html
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %title= content_for(:title) || "Gutter Press"
    %meta{:content => "width=device-width,initial-scale=1", :name => "viewport"}/
    %meta{:content => "yes", :name => "apple-mobile-web-app-capable"}/
    %meta{:content => "Gutter Press", :name => "application-name"}/
    %meta{:content => "yes", :name => "mobile-web-app-capable"}/
    = csrf_meta_tags
    = csp_meta_tag
    = yield :head
    %link{:href => "/icon.png", :rel => "icon", :type => "image/png"}/
    %link{:href => "/icon.svg", :rel => "icon", :type => "image/svg+xml"}/
    %link{:href => "/icon.png", :rel => "apple-touch-icon"}/
    %link{:href => feed_path, :rel => "alternate", :type => "application/atom+xml", :title => "GutterPress Blog Feed"}/
    %link{:href => "https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap", :rel => "stylesheet"}/
    = stylesheet_link_tag :app, "data-turbo-track": "reload"
    = stylesheet_link_tag "lexxy"
    = javascript_importmap_tags
  %body
    %nav.navbar.navbar-expand-lg.navbar-dark.bg-dark.shadow-sm
      .container
        = link_to "Gutter Press", root_path, class: "navbar-brand fw-bold"
        %button.navbar-toggler{"aria-controls" => "navbarNav", "aria-expanded" => "false", "aria-label" => "Toggle navigation", "data-bs-target" => "#navbarNav", "data-bs-toggle" => "collapse", :type => "button"}
          %span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse
          %ul.navbar-nav.me-auto
            %li.nav-item
              = link_to "Posts", posts_path, class: "nav-link"
          %ul.navbar-nav
            - if Current.user
              %li.nav-item
                = link_to "Admin", manage_root_path, class: "nav-link"
              %li.nav-item
                = link_to "Sign Out", session_path, method: :delete, class: "nav-link"
            - else
              %li.nav-item
                = link_to "Sign In", new_session_path, class: "nav-link"

    = yield(:hero_section)
    
    %main{class: content_for?(:hero_section) ? "mt-0" : "container my-4"}
      - if content_for?(:hero_section)
        .container.mt-4
      - if notice
        .alert.alert-success.alert-dismissible.fade.show{"role" => "alert"}
          = notice
          %button.btn-close{"aria-label" => "Close", "data-bs-dismiss" => "alert", :type => "button"}
      - if alert
        .alert.alert-danger.alert-dismissible.fade.show{"role" => "alert"}
          = alert
          %button.btn-close{"aria-label" => "Close", "data-bs-dismiss" => "alert", :type => "button"}
      
      = yield
      
      - if content_for?(:hero_section)
        .container

    %footer.bg-light.border-top.mt-5
      .container.py-4
        .row
          .col-md-6
            %h5 Gutter Press
            %p.text-muted A clean, professional blog platform
          .col-md-6.text-md-end
            %p.text-muted
              &copy; #{Date.current.year} Gutter Press. All rights reserved.
