- content_for :title, 'Dashboard'

.d-flex.justify-content-between.flex-wrap.flex-md-nowrap.align-items-center.pt-3.pb-2.mb-3.border-bottom
  %h1.h2 Dashboard
  .btn-toolbar.mb-2.mb-md-0
    %small.text-muted Welcome back, #{Current.user.email_address}

.row
  .col-lg-8
    .card.border-0.shadow-sm
      .card-body.p-4
        %h3.h4.mb-3 Welcome to Gutter Press Admin
        %p.lead Manage your blog content and settings from this dashboard.
        %hr.my-4
        %p 
          Use the sidebar navigation to manage different aspects of your blog. 
          You can create, edit, and publish posts, manage users, and configure your site settings.
        
        .row.mt-4
          .col-md-6
            %h5 Quick Actions
            %ul.list-unstyled
              %li.mb-2
                = link_to manage_posts_path, class: 'text-decoration-none' do
                  %i.bi.bi-file-text.me-2
                  Manage Posts
              %li.mb-2
                = link_to new_manage_post_path, class: 'text-decoration-none' do
                  %i.bi.bi-plus-circle.me-2
                  Create New Post
              %li.mb-2
                = link_to manage_pages_path, class: 'text-decoration-none' do
                  %i.bi.bi-file-earmark-text.me-2
                  Manage Pages
              %li.mb-2
                = link_to new_manage_page_path, class: 'text-decoration-none' do
                  %i.bi.bi-plus-circle.me-2
                  Create New Page
          
          .col-md-6
            %h5 Site Statistics
            %ul.list-unstyled
              %li.mb-2
                %i.bi.bi-file-text.me-2
                Total Posts: 
                %strong= @total_posts_count
              %li.mb-2
                %i.bi.bi-eye.me-2
                Published Posts: 
                %strong= @published_posts_count
              %li.mb-2
                %i.bi.bi-file-earmark-text.me-2
                Total Pages: 
                %strong= @total_pages_count
              %li.mb-2
                %i.bi.bi-eye.me-2
                Published Pages: 
                %strong= @published_pages_count
  
  .col-lg-4
    .card.border-0.shadow-sm
      .card-body.p-4
        %h5 Recent Activity
        %p.text-muted.small Your latest posts and pages will appear here.
        
        - recent_content = (@recent_posts + @recent_pages).sort_by(&:created_at).reverse.first(5)
        - if recent_content.any?
          %ul.list-unstyled
            - recent_content.each do |item|
              %li.mb-2.pb-2.border-bottom
                = link_to item.title, [:manage, item], class: 'text-decoration-none d-block'
                %small.text-muted
                  = item.class.name
                  â€¢ 
                  = item.created_at.strftime('%B %d, %Y')
        - else
          %p.text-muted.small No content yet. Create your first post or page to get started!
